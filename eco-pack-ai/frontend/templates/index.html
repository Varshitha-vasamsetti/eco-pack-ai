<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>EcoPackAI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <!-- Add Google Fonts -->
  <!-- Add this in the head section if not already present -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <link rel="stylesheet" href="/static/css/style.css">

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

<header class="header">
  <h1>EcoPackAI</h1>
  <p>AI-Driven Sustainable Packaging Material Recommendation</p>
</header>

<main class="container main-container">

  <section class="card-ui">
    <div class="card-header-ui">
      Material Requirement Inputs
    </div>

    <div class="card-body-ui">
      <div class="row g-4">

        <div class="col-md-6">
          <label>Product Category</label>
          <select id="categorySelect" class="input-ui">
            <option value="">-- Select Category --</option>
          </select>
        </div>

        <div class="col-md-6">
          <label>Product Weight (kg)</label>
          <input id="weightInput" type="number" class="input-ui" placeholder="e.g., 3.5" min="0.1" step="0.1">
        </div>

        <div class="col-md-6">
          <label>Fragility Level</label>
          <select id="fragilitySelect" class="input-ui">
            <option value="auto" selected>Auto-detect from Category</option>
            <option value="low">Low</option>
            <option value="medium">Medium</option>
            <option value="high">High</option>
          </select>
        </div>

        <div class="col-md-6">
          <label>Budget Limit per kg (Rs.)</label>
          <input id="budgetInput" type="number" class="input-ui" placeholder="Optional">
        </div>

        <div class="col-md-6">
          <label>Number of Recommendations</label>
          <select id="topNSelect" class="input-ui">
            <option value="3" selected>3</option>
            <option value="5">5</option>
            <option value="10">10</option>
          </select>
        </div>

        <div class="col-md-6">
          <label>Current Packaging Material</label>
          <select id="currentMaterialSelect" class="input-ui">
            <option value="">-- None (Skip Comparison) --</option>
          </select>
        </div>

        <div class="col-12">
          <button id="recommendBtn" class="primary-btn" onclick="runRecommendation()">
            Run Recommendation Engine
          </button>
          <div id="alertBox" class="alert-box"></div>
        </div>

      </div>
    </div>
  </section>

  <section id="resultsSection" style="display:none">

    <!-- Recommended Materials - Updated structure works with new JS -->
    <section class="card-ui">
      <div class="card-header-ui">Recommended Materials</div>
      <div id="materialsGrid" class="materials-grid"></div>
    </section>

    <!-- Recommendation Analytics - Updated structure -->
    <section class="card-ui">
      <div class="card-header-ui">Recommendation Analytics</div>
      <div class="analytics-grid" id="analyticsGrid"></div>
      <div class="chart-wrapper">
        <canvas id="comparisonChart"></canvas>
      </div>
    </section>

    <!-- Material Comparison Summary - Works fine -->
    <section class="card-ui">
      <div class="card-header-ui">Material Comparison Summary</div>
      <table class="summary-table">
        <thead>
          <tr>
            <th>Material</th>
            <th>Type</th>
            <th>Suitability</th>
            <th>Cost (INR)</th>
            <th>COâ‚‚ Impact</th>
            <th>Eco Score</th>
            <th>Rank</th>
          </tr>
        </thead>
        <tbody id="summaryTbody"></tbody>
      </table>
    </section>

    <!-- Savings Section - Updated structure -->
    <section id="savingsSection" class="card-ui" style="display:none">
      <div class="card-header-ui">Savings vs Current Material</div>
      <div id="savingsMetrics" class="savings-grid"></div>
      <div id="savingsDetails" class="comparison-grid"></div>
    </section>

  </section>

</main>

<footer class="footer">
  EcoPackAI 2025 | AI-Powered Sustainable Packaging Recommendation System
</footer>

<script src="/static/js/app.js"></script>
</body>
</html>